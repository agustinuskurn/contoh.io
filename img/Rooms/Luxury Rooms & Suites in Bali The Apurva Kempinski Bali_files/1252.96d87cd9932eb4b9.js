(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1252,2279],{2328:function(e,t,n){"use strict";var a=n(85893);n(67294);var o=n(30036),r=n(67421),i=n(11163),l=n(40002),s=n(85102),d=n(83454);let c=!!d.env.NEXT_PUBLIC_NO_MY_BOOKINGS_MICROSITE,u=!!d.env.NEXT_PUBLIC_HIDE_MY_NEWS;t.Z=e=>{let{onLogoutClick:t,className:n,dropdownRef:d,position:m="rtl:left-4 ltr:right-3 ltr:md:right-4"}=e,{t:h}=(0,r.$G)(),w=(0,i.useRouter)(),f=(0,s.TL)(),g=(e,t)=>{w.push(e),f(l.P.content.hideMemberList()),f(l.P.content.showMemberListItem()),f(l.P.content.setActiveMemberItem(t))};return(0,a.jsxs)("div",{ref:d,className:"flex items-start flex-col bg-white absolute px-4 border-stellarGrey border z-40 rtl:text-right ltr:text-left min-w-max ".concat(m," ").concat(n),children:[!c&&(0,a.jsx)("button",{onClick:()=>g("/member/reservations",h("reservations")),className:"pt-4 block",children:(0,a.jsx)(o.Z,{textType:"body1",text:h("reservations"),className:"no-underline hover:underline"})}),(0,a.jsx)("button",{onClick:()=>g("/member/personal_details",h("personal_details")),className:"pt-4 block",children:(0,a.jsx)(o.Z,{textType:"body1",text:h("personal_details"),className:"no-underline hover:underline"})}),(0,a.jsx)("button",{onClick:()=>g("/member/security",h("security")),className:"pt-4 block",children:(0,a.jsx)(o.Z,{textType:"body1",text:h("security"),className:"no-underline hover:underline"})}),!u&&(0,a.jsx)("button",{onClick:()=>g("/member/mailing",h("communications")),className:"py-4 block",children:(0,a.jsx)(o.Z,{textType:"body1",text:h("mailing"),className:"no-underline hover:underline"})}),(0,a.jsx)("div",{className:"h-0.5 w-full bg-lightGreyBackground"}),(0,a.jsx)("button",{onClick:t,className:"py-4 w-full rtl:text-right ltr:text-left",children:(0,a.jsx)(o.Z,{textType:"body1",text:h("log_out"),color:"red",className:"no-underline hover:underline"})})]})}},68829:function(e,t,n){"use strict";n.d(t,{g:function(){return p}});var a=n(85102),o=n(67421),r=n(11163),i=n(29954),l=n(67294),s=n(66720),d=n(97313),c=n(13640),u=n(23140),m=n(83538),h=n(67493),w=n(80463),f=n(70702),g=n(45958);let p=e=>{var t,n;let{siteDesign:p,withoutTransparency:v,forceLightInside:y,pagePath:b,languageCodes:x,urlAliases:_,isClub1897:L}=e,k=(0,a.TL)(),{i18n:C}=(0,o.$G)(),S=(0,r.useRouter)(),j=(0,a.CG)(e=>e.booking.hotel.hotel),N=(0,a.CG)(e=>e.global.content.state),E=(0,a.CG)(e=>e.global.content.CMSGlobalBanner),Z=(0,a.CG)(e=>e.global.content.CMSHotelBanners),T=(0,a.CG)(e=>e.global.content.localSiteDesigns),B=(0,a.CG)(e=>e.global.content.localSiteDesignHotels),D=(0,a.CG)(e=>e.member.profile.user),I=(0,a.CG)(i.Br),G=(0,a.CG)(e=>e.global.currency.selectedCurrency),P=(0,a.CG)(e=>e.global.content.lang),R=""+(P||"");if(!R){let e=window.location.pathname.split("/")[1];R=e&&2===e.length?e:R}"default"===R&&(R="en");let[A,M]=(0,l.useState)(!1),[H,O]=(0,l.useState)(!0),[z,U]=(0,l.useState)(!1),[W,Y]=(0,l.useState)(!1),[q,K]=(0,l.useState)(!1),F=(0,l.useRef)(null),V=H&&(!W||!z);(0,s.Z)([F],()=>K(!1)),(0,l.useEffect)(()=>{let e=S.locale||S.defaultLocale;e&&e!==P&&(k((0,c.V8)(e)),C.changeLanguage(e))},[S.locale,P]);let{isBookingPath:X,potentialHotelId:$,potentialHotelSubtree:J,isHotelPage:Q}=(0,g.Yt)({router:S,pagePath:b,hotel:j,siteDesign:p}),ee=$?B[$]:void 0,et=V&&!v;y&&(et=!0),A&&(et=!1),(0,l.useEffect)(()=>{A&&M(!1),K(!1)},[S.asPath]),(0,l.useEffect)(()=>{if(!X)return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e);function e(){0!==window.scrollY||H?window.scrollY>0&&H&&O(!1):O(!0)}},[H,v]);let en=(0,u.Z)(N);(0,l.useEffect)(()=>{let e=(0,u.Z)(N);e.hasState(m.oA.cmsGlobalBannersLoaded)||e.hasState(m.oA.cmsGlobalBannersLoading)||k((0,c._p)()).then(()=>U(!0))},[!en.hasState(m.oA.cmsGlobalBannersLoaded)&&!en.hasState(m.oA.cmsGlobalBannersLoading)]),(0,l.useEffect)(()=>{let e=(0,u.Z)(N);!e.hasState(m.oA.cmsLocalSiteDesignsLoading)&&$&&void 0===T[$]&&k((0,c.dT)({locationId:$,withHotel:Q}))},[$,Q,!!$&&void 0===T[$],en.hasState(m.oA.cmsLocalSiteDesignsLoading)]),(0,l.useEffect)(()=>{let e=(0,u.Z)(N);!e.hasState(m.oA.cmsHotelBannersLoading)&&Q&&J&&void 0===Z[$]&&k((0,c.RE)(J)).then(()=>U(!0))},[$,Q,en.hasState(m.oA.cmsHotelBannersLoading)]);let ea=[];x?ea=x.map(e=>h.um[e]||e.slice(0,2)):X&&(null==j?void 0:null===(n=j._contentInfo)||void 0===n?void 0:null===(t=n.currentVersion)||void 0===t?void 0:t.languageCodes)&&(ea=j._contentInfo.currentVersion.languageCodes.map(e=>h.um[e]||e.slice(0,2)));let eo=[];if(_)for(let e=0;e<_.length;e++)eo.push({languageCodes:_[e].languageCodes.map(e=>h.um[e]||e.slice(0,2)),path:_[e].path});(0,l.useEffect)(()=>{ea.length&&!ea.includes(R)&&S.push(S.asPath,void 0,{locale:"en"})},[R,ea.length]);let er="",ei="",el="/",es=!0,ed=!1;X&&j?(ei=j.name,el=j._url,es=!1,ed=!1):Q&&ee&&ee&&(ei=V||A?"":ee.name,el=ee._url,er=V||A?(0,w.bl)(ee.logo.uri,(0,f.zh)()):"");let ec=Q?Z[$]:E;return{onLogoutClick:()=>{k((0,c.kS)()),K(!1),A&&M(!1)},logoText:ei,logoHref:el,showBookNow:es,limitWidth:ed,isShowMenu:A,setIsShowMenu:M,setBannerExpanded:Y,isBannerExpanded:W,isScrolledTop:H,isPositionedTop:V,isLightInside:et,onClickUser:()=>{L||I?K(!q):(k((0,d.dY)()),M(!1))},openDropdown:q,rootEl:F,user:D,isLoggedIn:I,userSelectedCurrency:G,lang:R,languageCodesFiltered:ea,urlAliasesLanguageCodesFiltered:eo,logoImgSrc:er,showBanner:z,setShowBanner:U,potentialHotelId:$,localSiteDesigns:T,siteDesign:p,localHotel:ee,banner:ec,i18n:C,isBookingPath:X}}},66720:function(e,t,n){"use strict";var a=n(67294);t.Z=(e,t)=>{(0,a.useEffect)(()=>{let n=n=>{let a=e.map(e=>e.current);for(let e=0;e<a.length;e++){var o;if(null===(o=a[e])||void 0===o?void 0:o.contains(n.target))return}t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}},94923:function(e,t,n){"use strict";var a=n(85893);n(67294);var o=n(58855);t.Z=e=>{let t,{size:n="medium",textWhite:r,sizeIcon:i,label:l,onClick:s,isDisabled:d=!1,isActive:c=!1,isSelected:u=!1,bgTransparent:m=!1,round:h=!1,type:w="primary",buttonType:f="button",className:g="",rootClassName:p="",suffixBtn:v,prefixBtn:y,betweenContent:b,classSuffix:x,classPrefix:_,ariaLabel:L,btnSite:k=!1,bgDarkStone:C=!1,children:S,gtmParams:j,secondaryWhite:N=!1}=e;return"information"===w&&(t=!0),"moreActions"===w&&(t=!0),"close"===w&&(t=!0),(0,a.jsx)("button",{type:f,disabled:d,onClick:s,"aria-label":L,className:"".concat(p," ").concat(d?"cursor-text":""," ").concat(t?"max-w-min":""),children:S||(0,a.jsx)(o.Z,{gtmParams:j,size:n,sizeIcon:i,round:h,type:w,isDisabled:d,isActive:c,isSelected:u,bgTransparent:m,className:g,suffixBtn:v,prefixBtn:y,betweenContent:b,textWhite:r,classSuffix:x,classPrefix:_,btnSite:k,bgDarkStone:C,secondaryWhite:N,children:l})})}},62572:function(e,t,n){"use strict";var a=n(85893);n(67294);var o=n(94923),r=n(73988);t.Z=e=>{let{buttons:t,anchors:n,maxButtons:i,buttonClassName:l,groupClassName:s,position:d="right",style:c,spaceX:u="ltr:space-x-1 ltr:md:space-x-2 "}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between ".concat("right"===d?"md:justify-end":"md:justify-start"," w-full ").concat(u," ").concat(s),children:[t&&t.length>0&&t.slice(0,i).map((e,t)=>{var n;return(0,a.jsxs)("div",{style:c,className:l,children:[(0,a.jsx)(o.Z,{...e,onClick:t=>{var n;return t.stopPropagation(),null===(n=e.onClick)||void 0===n?void 0:n.call(e,t)}}),null===(n=e.exrtaEl)||void 0===n?void 0:n.call(e)]},t)}),n&&n.length>0&&n.slice(0,i).map(e=>(0,a.jsx)("div",{style:c,className:"".concat(l),children:(0,a.jsx)(r.Z,{isActive:e.isActive,className:e.className,target:e.target,bgTransparent:e.bgTransparent,href:e.href,label:e.label,type:e.type,size:e.size,isDisabled:e.isDisabled,round:e.round})},e.label))]})}},22750:function(e,t,n){"use strict";var a=n(62572);t.Z=a.Z},52279:function(e,t,n){"use strict";n.r(t),n.d(t,{GlobalBanner:function(){return h}});var a=n(85893),o=n(67294),r=n(30036),i=n(26334),l=n(61255),s=n(52885),d=n(67493),c=n(11569),u=n(62),m=n.n(u);let h=e=>{let{isOpen:t,onClose:n,labelText:u,contentHtml:h,identifier:w,typeBanner:f="booking",onChangeExpand:g,expanded:p}=e,[v,y]=(0,o.useState)(p||!u),[b,x]=(0,o.useState)(!w);return((0,o.useEffect)(()=>{w?x(!sessionStorage.getItem(d.tW.bannerHintPrefix+w)):b||x(!0)},[w]),b)?(0,a.jsxs)("div",{className:"px-4 relative ".concat(t&&b?" ":""," transition-all duration-500 bg-lightStoneGlobalBanner w-full z-40 ").concat(""),children:[u&&(0,a.jsxs)("div",{className:"flex items-center justify-center px-6 py-3 cursor-pointer ",onClick:()=>{y(!v),null==g||g(!v)},tabIndex:0,"aria-label":"expand",children:[(0,a.jsx)(r.Z,{textType:"overline1",text:u,className:"pl-2 ".concat(!v&&m().labelText)}),h&&(0,a.jsx)("button",{"aria-label":"close",children:v?(0,a.jsx)(i.Z,{size:28}):(0,a.jsx)(l.Z,{size:28})})]}),v&&(0,a.jsx)(c.Z,{text:{html5:h},className:"py-3 px-5 md:px-3 md:w-50% m-auto text-center"}),(!h||v)&&(0,a.jsx)("button",{className:"absolute right-3 pl-4 top-0 bottom-0 transition-all duration-300 opacity-70 hover:opacity-100 scale-100 hover:scale-110",onClick:()=>{sessionStorage.setItem(d.tW.bannerHintPrefix+w,"1"),x(!1),n()},"aria-label":"close",children:(0,a.jsx)(s.Z,{size:28,fill:"text-stellarBlue"})})]}):null};t.default=h},63716:function(e,t,n){"use strict";var a=n(85893);n(67294);var o=n(60557);t.Z=e=>{let{size:t=o.J.icon,fill:n="text-transparent"}=e;return(0,a.jsx)("svg",{width:t,height:t,className:"fill-current ".concat(n),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M0.75 23.25V18.2633C7.46688 13.4569 16.5331 13.4569 23.25 18.2633V23.25H0.75ZM17.25 5.96079C17.25 8.83399 14.9041 11.1716 12 11.1716C9.09586 11.1716 6.75 8.83399 6.75 5.96079C6.75 3.08758 9.09586 0.75 12 0.75C14.9041 0.75 17.25 3.08758 17.25 5.96079Z",stroke:"#010F2A",strokeWidth:"1.5"})})}},22962:function(e,t,n){"use strict";n.d(t,{CP:function(){return g},Fv:function(){return s},Ho:function(){return l},I9:function(){return r},K1:function(){return d},Kr:function(){return h},Se:function(){return x},UK:function(){return i},_u:function(){return c},dF:function(){return p},gZ:function(){return u},mY:function(){return b},pQ:function(){return f},v:function(){return w},ww:function(){return m},y_:function(){return y},yv:function(){return v},yx:function(){return _}});var a=n(67803),o=n(45958);let r=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"contactRequest",formType:"Contact"})},i=e=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"newsletterSignUpSuccess",formLocation:e})},l=(e,t,n,r,i,l)=>{let s=e.legs.reduce((e,t)=>e+(t.amounts.afterTaxTotal||0),0)||0,d=t.hotelCode,c=e.legs.map(e=>{var t;return(null===(t=e.taxes)||void 0===t?void 0:t.reduce((e,t)=>e+(t.amount||0),0))||0}),u=c.reduce((e,t)=>e+(t||0),0)||0,m=e.legs.length,h=1;e&&e.endDate&&e.startDate&&(h=(0,a.Z)(Date.parse(e.endDate),Date.parse(e.startDate))),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"refund",cancellationId:e.confirmationNumber,ecommerce:{transaction_id:e.confirmationNumber,affiliation:"Online",value:(0,o.lt)(l||i.convertCurrency(s,e.currency,"EUR")),tax:(0,o.lt)(i.convertCurrency(u,e.currency,"EUR")),shipping:0,currency:"EUR",coupon:n.couponCode||null,items:e.legs.map(t=>({item_id:d+"_"+t.room.code+"_"+t.rate.code,item_name:"Room: "+t.room.code+" Rate: "+t.rate.code,coupon:n.couponCode||null,item_brand:"Kempinski",item_category:"Room/Rate",item_variant:t.rate.name,price:i.convertCurrency(t.amounts.afterTaxTotal/h,e.currency,"EUR"),quantity:h,room_code:t.room.code,rate_code:t.rate.code,nights:h,rooms:m,adults:t.adults,children:t.children||0,booked_room_confirmation_number:t.legNumber}))}}),window.dataLayer.push({event:"RefundHotelReservation",cancellationId:e.confirmationNumber,ecommerce:{refund:{actionField:{id:e.confirmationNumber}}}})},s=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"destinations_rooms_guests_modal_show"})},d=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"destinations_modal_show"})},c=e=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"destinations_modal_hotel_selected",destination:e})},u=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"date_picker_modal_show"})},m=(e,t)=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"date_picker_modal_dates_confirmed",checkInDate:e,checkOutDate:t})},h=e=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"rooms_guests_modal_show",destination:e})},w=(e,t,n,a)=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"rooms_guests_modal_selection_confirmed",destination:e,adults:t,children:n,rooms:a})},f=e=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"promo_code_modal_show",destination:e})},g=(e,t)=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"promo_code_modal_code_confirmed",destination:e,coupon:t})},p=e=>{let{hotelCode:t,checkInDate:n,checkOutDate:a,adults:o,children:r,rooms:i,nights:l,coupon:s}=e;window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"destinations_rooms_guests_modal_search",destination:t,checkInDate:n,checkOutDate:a,adults:o,children:r,rooms:i,nights:l,coupon:s})},v=e=>{let{hotelCode:t,checkInDate:n,checkOutDate:a,adults:o,children:r,rooms:i,nights:l}=e;window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"booking_engine_no_availability",destination:t,checkInDate:n,checkOutDate:a,adults:o,children:r,rooms:i,nights:l})},y=e=>{let t="";"SOMETHING_WRONG"===e.message&&(t="An error as occured, please try again."),e.errorData&&("MinStay"===e.errorData.type&&(t="Please note that a minimum of ".concat(e.errorData.quantity," nights is required on the selected dates.")),"MaxStay"===e.errorData.type&&(t="Please note that a maximum of ".concat(e.errorData.quantity," nights is required on the selected dates.")),"ClosedOnArrival"===e.errorData.type&&(t="Please note that arrivals are not permitted on the selected date.")),e.message&&(t=e.message),t&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"booking_engine_error",errorText:t}))},b=(e,t)=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"checkout_validation_error",errorText:e.join(", "),formInputsAffected:t.join(", ")})},x=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"login"})},_=()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"sign_up"})}},93188:function(e,t,n){"use strict";n.d(t,{B6:function(){return s},F0:function(){return h},c5:function(){return c},fo:function(){return d},pR:function(){return u},u_:function(){return m}});var a=n(22222),o=n(80463),r=n(20356),i=n(45958),l=n(70702);let s=(0,a.P1)([e=>e.booking.hotel.availability1,e=>e.booking.hotel.availability2,e=>e.booking.hotel.availability3,e=>e.booking.hotel.availability4],(e,t,n,a)=>[e,t,n,a]),d=(0,a.P1)([e=>e.booking.hotel.addons1,e=>e.booking.hotel.addons2,e=>e.booking.hotel.addons3,e=>e.booking.hotel.addons4],(e,t,n,a)=>[e,t,n,a]),c=(0,a.P1)([e=>e.booking.hotel.addons1,e=>e.booking.hotel.addons2,e=>e.booking.hotel.addons3,e=>e.booking.hotel.addons4,e=>e.booking.hotel.CMSAddons],(e,t,n,a,o)=>{if(!o)return[];let r=[...Array.from(new Map([...(null==e?void 0:e.packages)||[],...(null==t?void 0:t.packages)||[],...(null==n?void 0:n.packages)||[],...(null==a?void 0:a.packages)||[]].map(e=>[e.code,e])).values())];if(!r)return[];let l=r.map((e,t)=>{let n=o.find(t=>t.code===e.code);return n?{...e,...n}:null}).filter(e=>!!e);return(0,i.Lc)(l),l}),u=(0,a.P1)([e=>e.booking.hotel.popupRoomGallery,e=>e.booking.hotel.CMSRooms],(e,t)=>{var n;if(!(null==e?void 0:e.roomCode)||!(null==t?void 0:t.length))return;let a=(0,r.xj)(t,e.roomCode);if(a)return null===(n=a.images)||void 0===n?void 0:n.map(e=>({image:(0,o.bl)(e.image.uri,(0,l.ds)()),imageAlt:e.image.alternativeText}))}),m=(0,a.P1)([e=>e.booking.hotel.popupRoomInfo,e=>e.booking.hotel.CMSRooms],(e,t)=>{if((null==e?void 0:e.roomCode)&&(null==t?void 0:t.length))return(0,r.xj)(t,e.roomCode)}),h=(0,a.P1)([e=>e.booking.hotel.popupSelectRate,e=>e.booking.hotel.CMSRooms],(e,t)=>{if((null==e?void 0:e.roomCode)&&(null==t?void 0:t.length))return(0,r.xj)(t,e.roomCode)})},29954:function(e,t,n){"use strict";n.d(t,{B6:function(){return a.B6},Br:function(){return o.B},c5:function(){return a.c5},fo:function(){return a.fo}});var a=n(93188),o=n(5626)},5626:function(e,t,n){"use strict";n.d(t,{B:function(){return s}});var a=n(22222),o=n(23140),r=n(83538),i=n(83454);let l="club1897"===i.env.NEXT_PUBLIC_THEME,s=(0,a.P1)([e=>e.member.profile.state],e=>!l&&(0,o.Z)(e).hasState(r.j1.loggedId))},12924:function(){},60439:function(){},62:function(e){e.exports={labelText:"globalBanner_labelText___jKBh"}}}]);